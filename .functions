hash git &>/dev/null;
if [ $? -eq 0 ]; then
	function diff() {
		git diff --no-index --color-words "$@";
	}
fi;

function findfile() {
	find . -iname "$@";
}

system_uname=$( uname )                                                                                                                                               
case $system_uname in
  Linux)
      function findstring() {
        grep -ri "$@";
      }
    ;;
  Darwin)
      function findstring() {
        grep -ri "$@" *;
      }
    ;;
  *)
    ;;
esac

function grc() {
	git rebase --onto $1~1 $1
}

function cheats() {
  if [[ $# -gt 0 ]]; then
    cat ~/dotfiles/.cheats | grep -i $1
  else
    cat ~/dotfiles/.cheats
  fi
}

falcon() {
  if [[ $1 == *"dev"* ]]; then
    echo "Aloha"
  fi
  if [[ $1 == *"esvc"* || $1 == *"prod"* ]]; then
    echo "Matlock + yubikey"
  fi
  ssh -o LogLevel=ERROR -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null d.greer@bastion.syssec.foundation.$1.aws.sfdc.cl
}

falcon_scp() {
  scp -o LogLevel=ERROR -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null $2 d.greer@bastion.syssec.foundation.$1.aws.sfdc.cl:~/$2
}

kupdate() {
  aws sts get-caller-identity
  aws eks --region $1 update-kubeconfig --name $3
  kubectl get pods -n $2
}

importrealms() {
  kubectl create job --from=cronjob/quantumk-keycloak-sp-onboarder -n quantumk importjob
  sleep 5
  quantumk quantumk-b | grep -i importjob | kubectl logs -f -n quantumk -c keycloak-sp-onboarder $(awk '{print $1}')
}
